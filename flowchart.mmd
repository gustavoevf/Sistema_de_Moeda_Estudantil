flowchart TD
    subgraph "Git Actions"
        A1[Push to feature branch - not main] --> B1[Check changed files]
        B1 -- "Implementacao/backEnd/moedaestudantil-api/** or backend.yml" --> C1[Trigger Backend CI]
        B1 -- "Implementacao/moedas-ui/** or frontend.yml" --> C2[Trigger Frontend CI]
        A1 --> D1[PR Creation Workflow]
        D1 --> E1[Open Pull Request to main]
        E1 --> F1[Review & Merge PR]
        F1 --> G1[Push to main]
    end

    subgraph "Backend CI"
        C1 --> H1[Checkout code]
        H1 --> I1[Set up JDK 11]
        I1 --> J1[Cache Maven packages]
        J1 --> K1[Build with Maven]
        K1 --> L1[Run tests]
        L1 --> M1[Check code style]
        M1 --> N1[Package application]
    end

    subgraph "Frontend CI"
        C2 --> H2[Checkout code]
        H2 --> I2[Set up Node.js 18.x]
        I2 --> J2[Install dependencies]
        J2 --> K2[Run prettier-check]
        K2 --> L2[Run tests]
        L2 --> M2[Build Angular app]
        M2 --> N2[Set up Git user]
        N2 --> O2{Is branch main?}
        O2 -- Yes --> P2[Deploy to GitHub Pages]
        O2 -- No --> Q2[No deploy]
    end

    G1 -- "Implementacao/backEnd/moedaestudantil-api/** or backend.yml" --> C1
    G1 -- "Implementacao/moedas-ui/** or frontend.yml" --> C2

    style P2 fill:#006400,stroke:#333,stroke-width:2px,color:#fff
    style N1 fill:#006400,stroke:#333,stroke-width:2px,color:#fff